{% extends "index.html" %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            {% for message in messages %}
            <div class="alert {{ message.tags }} alert-dismissible fade show" id="msg"
            role="alert">
            {{ message | safe }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" >
            </button>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


<div class="container">
    <form method="POST" action="" class="signature-pad-form">
        {% csrf_token %}
        <div class="row">
            <div class="col m-md-1">
                <label for="first_name">First Name:</label>
                <input type="text" id="first_name" name="first_name" class="form-control" placeholder="First name">
            </div>
            
            <div class="row">
                <div class="col m-md-1">
                    <label for="company">Company:</label>
                    <input type="text" class="form-control" id="company" name="company" placeholder="Company">
                </div>
            <div class="col m-md-1">

                <div>
                    <button class="search-button" type="submit">SUBMIT</button>
                </div>

            </div>
        </div>
    </form>

    <div class="container bg-success border">
        <div class="row border">
            <div class="col-12">
                <strong>Search Result</strong>
            </div>
        </div>
        <div class="row border">
            <div class="col-2">
                <strong>Name</strong>
            </div>
            <div class="col-1">
                <strong>Company</strong>
            </div>
            <div class="col-1">
                <strong>Destination</strong>
            </div>
            <div class="col-2">
                <strong>Entry Date</strong>
            </div>
            <div class="col-2">
                <strong>Time In</strong>
            </div>
            <div class="col-2">
                <strong>Time Out</strong>
            </div>
            <div class="col-1">
               <strong>Off Site</strong>
            </div>
            <div class="col-1">
                <strong>More Info</strong>
            </div>
        </div>
        
        {% for item in items %}
        <div class="row border">
            <div class="col-2">
                {{ item.first_name}} {{item.last_name}}
            </div>
            <div class="col-1">
                {{ item.company}}
            </div>
            <div class="col-1">
                {{ item.destination}}
            </div>
            <div class="col-2">
                {{ item.entry_date}}
            </div>
            <div class="col-2">
                {{ item.time_in}}
            </div>
            <div class="col-2">
                {{ item.time_out}}
            </div>
            <div class="form-check form-switch col-1">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                <label class="form-check-label" for="flexSwitchCheckChecked"></label>
            </div>
            <div class="col-1">
                <button class="btn btn-sm" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse-target{{item.id}}" aria-expanded="false" aria-controls="collapse-target">
                    More
                </button>
            </div>
            <div class="collapse" id="collapse-target{{item.id}}">
                <div class="card card-body">
                    <div class="row">
                        <div class="col-3">
               
                            <div><strong>Record Created:</strong></div>
                            <div><strong>Phone number:</strong></div>
                            <div><strong>Registration Number:</strong></div>
                            <div><strong>Granted Entry by:</strong></div>
                            <div><strong>Entry Gate</strong></div>
                            <div><strong>Parking Expiration</strong></div>
                            <div><strong>Signature</strong></div>
                            <div><strong>On Site Status</strong></div>
                        </div>
                        <div class="col-3">
                            <div>{{ item.created_on }}</div> 
                            <div>{{ item.phone_number }}</div> 
                            <div>{{ item.registration }}</div>
                            <div>{{ item.officers_name }}</div>
                            <div>{{ item.gate_number }}</div>
                            <div>{{ item.parking_time_limit }}</div>
                            
                            <div><img height="200px" width="320px" style="display: block;" src="{{item.signature}}"></div> 
                            <div>{{ item.on_site_status }}</div>  
                        </div>

                        <div class="col-3">
                            <div><strong>Passenger 1</strong></div>
                            <div><strong>Passenger 2</strong></div>
                            <div><strong>Passenger 3</strong></div>
                            <div><strong>Passenger 4</strong></div>
                        </div>

                        <div class="col-3">
                            <div>{{ item.passenger_1 }}</div>
                            <div>{{ item.passenger_2 }}</div>
                            <div>{{ item.passenger_3 }}</div>
                            <div>{{ item.passenger_4 }}</div>
                        </div>
                    </div>
                    
                     
                </div>
            </div>
        </div>
        
        
        {% endfor %}
    
    </div>
        
    
</div>

{% endblock %}
